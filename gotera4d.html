<!DOCTYPE html><html lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head><title>Gotera4D</title></head>
<body style="background-color: white;">
<svg id="panel4d" viewBox="0 0 512 512" preserveAspectRatio="none" style="outline: #C0C0C0FF solid 1px; position: absolute; left: 0px; top: 0px; width: 512px; height: 512px;"></svg>
<script>
var pix = 256, piy = 50,radiox = 150, radioy=90;
    const speed = 0.2; 
    let angle = 0;
     var j=449, k=256, pts1="", pts2="";
aero4d();
animate();
function animate() {
    sty='fill: none ; stroke: silver; stroke-width: 2; stroke-linecap: round;stroke-linejoin:  round;';       
    var x = radiox * Math.cos(angle);
    var y = piy + radioy * Math.sin(angle);
    helice(x,radioy);
    angle += speed;
    requestAnimationFrame(animate);
}
function aero4d(){
    var a=0.85, b=(2.5), mint= -1.5, maxt = 5, pruta='';
    for(var t=mint;t<=maxt; t=t+0.01){
        x = a * (1 - Math.sin(t)) * Math.cos(t);
        y = -b * (Math.sin(t)-1);
        x=x*(radiox) + pix; y =y*(radioy)+piy;
        pruta += x + ',' + y + ' '; 
    }
    sty='fill: none ; stroke: black; stroke-width: 1; stroke-linecap: round;stroke-linejoin:  round;';
    poli4d('panel4d','gotera4d', pruta, sty);
}  
function helice(palax,palay){
    pruta = pix + ',' + piy + ' ' + (pix + palax) + ',' + (piy - palay/2) + ' ' + (pix + palax) + ',' + (piy + palay*2) + ' ' + (pix) + ',' + (piy);
    poli4d('panel4d','helice1', pruta, sty);
    pruta = pix + ',' + piy + ' ' + (pix + palax/3) + ',' + (piy - palay/2) + ' ' + (pix + palax/3) + ',' + (piy + palay*2) + ' ' + (pix) + ',' + (piy);
    poli4d('panel4d','helice2', pruta, sty);
    pruta = pix + ',' + piy + ' ' + (pix - (palax)) + ',' + (piy - palay/2) + ' ' + (pix - (palax)) + ',' + (piy + palay*2) + ' ' + (pix) + ',' + (piy);
    poli4d('panel4d','helice3', pruta, sty);
}
window.addEventListener("DOMContentLoaded", function (event) { panel();});
window.addEventListener('resize', function (event) {panel();});
function panel() {
	ancho = Math.max(document.documentElement.clientWidth,  window.innerWidth);
	alto  = Math.max(document.documentElement.clientHeight, window.innerHeight)-2; 
	if (ancho > alto) { lado = alto; } else { lado = ancho; }
	document.getElementById('panel4d').setAttribute('style','border: silver solid 1px; position:absolute; left: 0; top: 0;width:' + lado + 'px;height:' + lado + 'px;');
}
//rgb to hex
function componentToHex(c) {var hex = c.toString(16);return hex.length == 1 ? "0" + hex : hex;}
function rgbToHex(r, g, b, a) {return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b) + componentToHex(a);}
//p4d
function p4d(x1, y1, x2, y2, x3, y3, x4, y4) {var divisor = ((y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1)); if (divisor === 0) { return { x5: NaN, y5: NaN }; } var x5 = x1 + ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / divisor * (x2 - x1); var y5 = y1 + ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / divisor * (y2 - y1); return { x5: x5, y5: y5 }; }
//ruta4d
function ruta4d(name, pathData, fillColor, strokeColor, strokeWidth) { if (pathData.indexOf("undefined") < 0 && pathData.indexOf("NaN") < 0) { var o4d; if (document.getElementById(name)) { o4d = document.getElementById(name); } else { o4d = document.createElementNS("http://www.w3.org/2000/svg", "path"); o4d.setAttribute("id", name);	o4d.setAttribute("stroke-linecap", "round");} o4d.setAttribute("d", pathData); if (fillColor !== " ") { o4d.setAttribute("fill", fillColor); } if (strokeWidth !== " ") { o4d.setAttribute("stroke-width", strokeWidth); }if (strokeColor !== " ") { o4d.setAttribute("stroke", strokeColor); } if (!document.getElementById(name)) { document.getElementById("panel4d").appendChild(o4d);  }}}
//
function poli4d(panel, pid, pts, sty) {    if (pts.indexOf("undefined")<0 && pts.indexOf("NaN")<0){        var o4d;         if (document.getElementById(pid)) {o4d = document.getElementById(pid);} else {o4d = document.createElementNS("http://www.w3.org/2000/svg", "polyline"); o4d.setAttribute("id", pid); o4d.setAttribute("shape-rendering", "geometricPrecision"); }         o4d.setAttribute("points", pts); if (sty !== " ") {o4d.setAttribute("style", sty);} if (!document.getElementById(pid)) {document.getElementById(panel).appendChild(o4d);} }}
function text4d(panel,pid, px, py, sty, txt, ali) { 
    var o4d; if (document.getElementById(pid)) { 
        o4d = document.getElementById(pid); 
    } else { 
        o4d = document.createElementNS("http://www.w3.org/2000/svg", "text"); 
        o4d.setAttribute("shape-rendering", "geometricPrecision"); 
        o4d.setAttribute("id", pid); 
    } 
    o4d.setAttribute("x", px); 
    o4d.setAttribute("y", py); 
    o4d.textContent = txt; 
 
    if (ali !== "") {
        if (ali==0){
            sty += ";dominant-baseline: middle; text-anchor: start";
            o4d.setAttribute("alignment-baseline", "start"); 
        }
        if (ali==1){
            sty += ";dominant-baseline: middle; text-anchor: middle";
            o4d.setAttribute("alignment-baseline", "middle");
        }
        if (ali==2){
            sty += ";dominant-baseline: middle; text-anchor: end";
            o4d.setAttribute("alignment-baseline", "end");               
        }
        if (ali==3){
            sty += ";dominant-baseline: hanging; text-anchor: start";
            o4d.setAttribute("alignment-baseline", "hanging");   
        }
        if (ali==4){
            sty += ";dominant-baseline: top; text-anchor: start";
            o4d.setAttribute("alignment-baseline", "top");   
        }
    }	
    if (sty !== " ") {
         o4d.setAttribute("style", sty); 
    }
    if (!document.getElementById(pid)) { document.getElementById(panel).appendChild(o4d); } 
}
function circ4d(panel, pid, pcx, pcy, pra, sty){if (!isNaN(pcx) && !isNaN(pcy)){var o4d; if (document.getElementById(pid)) {o4d = document.getElementById(pid);} else {o4d = document.createElementNS('http://www.w3.org/2000/svg', 'circle');  o4d.setAttribute('shape-rendering', 'geometricPrecision'); o4d.setAttribute('id', pid);} o4d.setAttribute('cx', pcx);	o4d.setAttribute('cy', pcy); o4d.setAttribute('r', pra);	                            if (sty !== ' ') {o4d.setAttribute('style', sty);}	                     if (!document.getElementById(pid)) {document.getElementById(panel).appendChild(o4d);}}}
</script>
</body>
</html>