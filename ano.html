<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ano</title></head>
<body style="background-color: white;">
<svg id="panel4d" viewBox="0 0 512 512" preserveAspectRatio="none" style="border: silver solid 1px; position: absolute; left: 0px; top: 0px; width: 512px; height: 512px;">
</svg>      
<script>
var hoy = new Date();
xmes = hoy.getMonth();
ano = hoy.getFullYear();
xdia = hoy.getDate();
var ameses= ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
var arreglomes = [];
var diasSemana = ['L', 'M', 'X', 'J', 'V', 'S', 'D'];
for (var mes = 0; mes < 12; mes++) {
	var diasEnMes = new Date(ano, mes + 1, 0).getDate();
	var primerDia = new Date(ano, mes, 1).getDay(); 
	var offset = (primerDia === 0) ? 6 : primerDia - 1;
	var mesArr = diasSemana.slice(); 
	for (var i = 0; i < offset; i++) {
		mesArr.push("");
	}
	for (var d = 1; d <= diasEnMes; d++) {
		mesArr.push(d.toString());
	}
	while ((mesArr.length % 7) !== 0) {
		mesArr.push("");
	}
	while (mesArr.length < 49) {
		mesArr.push("");
	}
	arreglomes.push(mesArr);
}
var festivos = [
	[1, 6],
	[], 
	[24, 27, 28],
	[17,18], 
	[1], 
	[2, 23, 30],
	[], 
	[7, 18], 
	[], 
	[13], 
	[3, 17], 
	[8, 25] 
];
var bloquesx = 3 , bloquesy = 4;
var minx = 0, maxx = 512, miny = 0, maxy = 512;
var margenx = 4 , margeny = 4;
var pleft = 0, ptop = 32;
var pcolor = 'black';
var styt = 'fill: ' + pcolor + '; stroke: none; stroke-width: 1; font-family: Arial; font-size:30px;';
var pmx = (maxx - minx)/2, pmy = ptop - (margeny*2) ;
text4d('titulo', pmx, pmy, styt, ano, 1);
gridano(ano, bloquesx, bloquesy, minx, maxx, miny, maxy, margenx, margeny, pleft, ptop);
function gridano(pid, bloquesx, bloquesy, minx, maxx, miny, maxy, margenx, margeny, pleft, ptop){
	var contador = 0;
	var registro = new Date();
	var bancho = (maxx - margenx*(bloquesx+1)-pleft)/bloquesx;
	var balto  = (maxy - margeny*(bloquesy+1)-ptop)/bloquesy;
	var i = 0 ; 
	while (i < bloquesy){
		var  j = 0;
		while (j < bloquesx){
			p1 = (pleft + margenx + margenx*j + j*bancho     ) + ',' + (ptop  + margeny + margeny*i + i*balto     );
			p2 = (pleft + margenx + margenx*j + (j+1)*bancho ) + ',' + (ptop  + margeny + margeny*i + i*balto     );
			p3 = (pleft + margenx + margenx*j + (j+1)*bancho ) + ',' + (ptop  + margeny + margeny*i + (i+1)*balto );
			p4 = (pleft + margenx + margenx*j + j*bancho     ) + ',' + (ptop  + margeny + margeny*i + (i+1)*balto );
			pts = p1 + ' ' + p2 + ' ' + p3 + ' ' + p4 + ' ' + p1;
			sty = 'fill: none; stroke: silver; stroke-width: 1; stroke-linecap: round; stroke-linejoin: round;';
			poli4dm('panel4d', pid + " " +contador, pts, sty);
			pmx = (pleft + margenx + margenx*j + j*bancho     )+ (((pleft + margenx + margenx*j + (j+1)*bancho ) - (pleft + margenx + margenx*j + j*bancho     ))/2);
			pmy = (ptop  + margeny + margeny*i + i*balto     ) + 8;
			pcolor = 'black';
			styt = 'fill: ' + pcolor + '; stroke: none; stroke-width: 1; font-family: Arial; font-size:12px;';
			text4d('t__'+ pid + " " + contador , pmx, pmy, styt, ameses[contador], 1);
			var bloquesxm = 7 , bloquesym = 7;
			var minxm = (pleft + margenx + margenx*j + j*bancho     ), maxxm = (pleft + margenx + margenx*j + (j+1)*bancho ), minym = (ptop  + margeny + margeny*i + i*balto     ), maxym = (ptop  + margeny + margeny*i + (i+1)*balto );
			var margenxm = 2 , margenym = 1;
			var pleftm = minxm, ptopm = (ptop  + margeny + margeny*i + i*balto     ) + 14;
			gridmes(contador, ano+"dias"+contador+" "+j, bloquesxm, bloquesym, minxm, maxxm, minym, maxym, margenxm, margenym, pleftm, ptopm);
			j++; contador++;
		}
		i++;
	}
}
function gridmes(pmes, pid, bloquesxm, bloquesym, minxm, maxxm, minym, maxym, margenxm, margenym, pleftm, ptopm){
	var contador = 0;
	var registro = new Date();
	var bancho = (maxxm - margenxm*(bloquesxm+1)-pleftm)/bloquesxm;
	var balto  = (maxym - margenym*(bloquesym+1)-ptopm)/bloquesym;
	var i = 0 ; 
	while (i < bloquesym){
		var  j = 0;
		while (j < bloquesxm){
			p1 = (pleftm + margenxm + margenxm*j + j*bancho     ) + ',' + (ptopm  + margenym + margenym*i + i*balto     );
			p2 = (pleftm + margenxm + margenxm*j + (j+1)*bancho ) + ',' + (ptopm  + margenym + margenym*i + i*balto     );
			p3 = (pleftm + margenxm + margenxm*j + (j+1)*bancho ) + ',' + (ptopm  + margenym + margenym*i + (i+1)*balto );
			p4 = (pleftm + margenxm + margenxm*j + j*bancho     ) + ',' + (ptopm  + margenym + margenym*i + (i+1)*balto );
			pts = p1 + ' ' + p2 + ' ' + p3 + ' ' + p4 + ' ' + p1;
			if(contador<=6){
				sty = 'fill: silver; stroke: none; stroke-width: 1; stroke-linecap: round; stroke-linejoin: round;';
				poli4dm('panel4d', 'mes' + pid + contador, pts, sty);
			} else {
				sty = 'fill: none; stroke: none; stroke-width: 1; stroke-linecap: round; stroke-linejoin: round;';
				poli4dm('panel4d', 'mes' + pid + contador, pts, sty);
			}
			var pmx = (pleftm + margenxm + margenxm*j + j*bancho     )+ (((pleftm + margenxm + margenxm*j + (j+1)*bancho ) - (pleftm + margenxm + margenxm*j + j*bancho     ))/2);
			var pmy = (ptopm  + margenym + margenym*i + i*balto     ) + (((ptopm  + margenym + margenym*i + (i+1)*balto ) - (ptopm  + margenym + margenym*i + i*balto     ))/2)+1;

			var pcolor = 'black';
			if(j==6){pcolor = 'red';}	
			for( var fes = 0; fes <(festivos[pmes].length); fes ++){
				if(festivos[pmes][fes] == arreglomes[pmes][contador]){pcolor = 'red';}
			}
			var styt = 'fill: ' + pcolor + '; stroke: none; stroke-width: 1; font-family: Arial; font-size:11px;';
			text4d('t__'+ pid + contador , pmx, pmy, styt, arreglomes[pmes][contador], 1);
			if(xmes == pmes && xdia == arreglomes[pmes][contador]){
				pcolor = 'blue';
				styt = 'fill: ' + pcolor + '; stroke: none; stroke-width: 1; font-family: Arial; font-size:11px;';
				text4d('t__'+ pid + contador , pmx, pmy, styt, arreglomes[pmes][contador], 1);
				blink4d('mes' + pid + contador, "indefinite", 'transparent', 'blue');
				blink4d('t__'+ pid + contador, "indefinite", pcolor, 'white');
				botonsvg('mes' + pid + contador ,'mes.html?ano=' + ano + '&mes='+pmes); 
			}
			j++; contador++;
		}
		i++;
	}
}
function blink4d(quien, conteo, fil, from){
	var pid = "aniblip"+quien;
    if(document.getElementById(pid)){document.getElementById(pid).remove();}
	var o4d = document.createElementNS("http://www.w3.org/2000/svg", "animate"); 
	o4d.setAttribute("id", pid); 
	o4d.setAttribute("attributeName", "fill");
	o4d.setAttribute("from", from);
	o4d.setAttribute("to", fil);
	o4d.setAttribute("dur", "1s");
	o4d.setAttribute("repeatCount", conteo);
	o4d.setAttribute("calcMode", "discrete");
    document.getElementById(quien).appendChild(o4d); 
}
function botonsvg(quien,ref){
	var pid = "b_" + quien;
    if(document.getElementById(pid)){document.getElementById(pid).remove();}
	var a = document.createElementNS("http://www.w3.org/2000/svg", "a");
	a.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', ref);
	a.setAttribute("id", "a"+pid);
	//a.onclick = function() { return false;  };
	a.appendChild(document.getElementById(quien));
	document.getElementById("panel4d").appendChild(a);
}
function hora(){
	var registro = new Date();
	var horas = registro.getHours();
	var minutos = registro.getMinutes();
	var segundos = registro.getSeconds();
	var ampm = horas >= 12 ? 'p.m.' : 'a.m.';
	horas = horas % 12;
	horas = horas ? horas : 12; 
	minutos = minutos < 10 ? '0'+minutos : minutos;
	segundos = segundos < 10 ? '0'+segundos : segundos;
	return horas + ':' + String(minutos).padStart(2, '0') + ':' + segundos + ' ' + ampm;
}
function fechalarga(){
	var adias = [ 'Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'];
	var ameses= ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
	var registro = new Date();
	return adias[(registro.getDay())] + ' ' + registro.getDate() + ' de ' + ameses[registro.getMonth()] + ' de ' + registro.getFullYear();
}
function mesactual(){
	var ameses= ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
	var registro = new Date();
	return ameses[registro.getMonth()];

}
window.addEventListener("DOMContentLoaded", function (event) { panel();});
window.addEventListener('resize', function (event) {panel();});
function panel() {
	ancho = Math.max(document.documentElement.clientWidth,  window.innerWidth);
	alto  = Math.max(document.documentElement.clientHeight, window.innerHeight)-2; 
	if (ancho > alto) { lado = alto; } else { lado = ancho; }
	document.getElementById('panel4d').setAttribute('style','border: silver solid 1px; position:absolute; left: 0; top: 0;width:' + lado + 'px;height:' + lado + 'px;');
}
function text4d(pid, px, py, sty, txt, ali) { var o4d; if (document.getElementById(pid)) { o4d = document.getElementById(pid); } else { o4d = document.createElementNS("http://www.w3.org/2000/svg", "text"); o4d.setAttribute("shape-rendering", "geometricPrecision"); o4d.setAttribute("id", pid); } o4d.setAttribute("x", px); o4d.setAttribute("y", py); if (sty !== " ") { o4d.setAttribute("style", sty); } o4d.textContent = txt; if (ali !== "") {	if (ali==0){		o4d.setAttribute("alignment-baseline", "start"); 		o4d.setAttribute("text-anchor", "start"); 	}	if (ali==1){		o4d.setAttribute("alignment-baseline", "middle"); 		o4d.setAttribute("text-anchor", "middle"); 	}	if (ali==2){		o4d.setAttribute("alignment-baseline", "end"); 		o4d.setAttribute("text-anchor", "end"); 	}}if (!document.getElementById(pid)) { document.getElementById("panel4d").appendChild(o4d); } }
function poli4dm(panel, pid, pts, sty) {var o4d;if (document.getElementById(pid)) {o4d = document.getElementById(pid);} else {o4d = document.createElementNS("http://www.w3.org/2000/svg", "polyline");o4d.setAttribute("id", pid);o4d.setAttribute("shape-rendering", "geometricPrecision");}if (pts.indexOf("undefined") < 0 && pts.indexOf("NaN") < 0) { o4d.setAttribute("points", pts);}if (sty !== " ") {o4d.setAttribute("style", sty);}if (!document.getElementById(pid)) {document.getElementById(panel).appendChild(o4d);}}
</script>
</body>
</html>